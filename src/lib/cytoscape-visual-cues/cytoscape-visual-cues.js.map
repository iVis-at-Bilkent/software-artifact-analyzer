{"version":3,"file":"cytoscape-visual-cues.js","sources":["../src/helper.ts","../src/cytoscape-visual-cues.ts","../src/index.ts"],"sourcesContent":["export type NodeCuePosition =\n  | \"top\"\n  | \"center\"\n  | \"bottom\"\n  | \"right\"\n  | \"left\"\n  | \"top-left\"\n  | \"top-right\"\n  | \"bottom-right\"\n  | \"bottom-left\";\n\nexport type EdgeCuePosition = \"target\" | \"source\" | \"center\";\n\nexport type Events2show =\n  | \"mouseover\"\n  | \"mouseout\"\n  | \"style\"\n  | \"select\"\n  | \"unselect\"\n  | \"position\";\n\nexport interface CueOptions {\n  id: number | string;\n  show: \"select\" | \"hover\" | \"always\" | \"never\" | \"over\";\n  position: NodeCuePosition | EdgeCuePosition;\n  marginX: string | number;\n  marginY: string | number;\n  onCueClicked: ((ele: any, id: number | string) => void) | undefined;\n  htmlElem: HTMLElement;\n  imgData: { width: number; height: number; src: string } | null;\n  zoom2hide: number;\n  isFixedSize: boolean;\n  zIndex: number;\n  tooltip: string;\n  cursor: string;\n}\n\nexport interface CyEvent {\n  target: any;\n  type: string;\n}\n\nexport interface Cues {\n  [key: string]: CueOptions;\n}\n\nexport interface CueData {\n  cues: Cues;\n  graphElem: any;\n  positionFn: Function;\n  styleFn: Function;\n}\n\nexport interface Str2CuesData {\n  [key: string | number]: Str2CueData;\n}\n\nexport interface Str2CueData {\n  [key: string]: CueData;\n}\n\nexport interface Str2Cues {\n  [key: string]: Cues;\n}\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\n/** https://davidwalsh.name/javascript-debounce-function\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n * @param  {} func\n * @param  {number} wait\n * @param  {boolean=false} immediate\n * @param  {} preConditionFn=null if function returns false, ignore this call\n */\nexport function debounce(func, wait: number, immediate: boolean = false) {\n  let timeout;\n  return function () {\n    const context = this,\n      args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n/** calls `fn2` at the 'beginning' of frequent calls to `fn1`\n * @param  {Function} fn1\n * @param  {number} wait\n * @param  {Function} fn2\n */\nexport function debounce2(fn1: Function, wait: number, fn2: Function) {\n  let timeout;\n  let isInit = true;\n  return function () {\n    const context = this,\n      args = arguments;\n    const later = function () {\n      timeout = null;\n      fn1.apply(context, args);\n      isInit = true;\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (isInit) {\n      fn2.apply(context, args);\n      isInit = false;\n    }\n  };\n}\n\nexport function isNullish(o) {\n  return o === undefined || o === null;\n}\n\nexport function isNumber(value: string | number): boolean {\n  return value != null && !isNaN(Number(value.toString()));\n}\n\n// https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Quadratic_B%C3%A9zier_curves\nexport function quadraticBezierCurve(\n  p0: Point,\n  p1: Point,\n  p2: Point,\n  t: number\n): Point {\n  const r = 1 - t;\n  const part1 = scalarMult(vectorAdd(scalarMult(p0, r), scalarMult(p1, t)), r);\n  const part2 = scalarMult(vectorAdd(scalarMult(p1, r), scalarMult(p2, t)), t);\n  return vectorAdd(part1, part2);\n}\n\nexport function midPoint(p1: Point, p2: Point): Point {\n  return { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n}\n\nfunction scalarMult(p: Point, s: number): Point {\n  return { x: p.x * s, y: p.y * s };\n}\n\nfunction vectorAdd(p1: Point, p2: Point): Point {\n  return { x: p1.x + p2.x, y: p1.y + p2.y };\n}\n\n/**\n * Finds the intersection point between the rectangle with parallel sides to the x and y\n * axes the half-line pointing towards (x,y) originating from the middle of the rectangle\n * Note: the function works given min[XY] <= max[XY],\n *       even though minY may not be the \"top\" of the rectangle\n *       because the coordinate system is flipped.\n * Note: if the input is inside the rectangle,\n *       the line segment wouldn't have an intersection with the rectangle,\n *       but the projected half-line does.\n * Warning: passing in the middle of the rectangle will return the midpoint itself\n *          there are infinitely many half-lines projected in all directions,\n *          so let's just shortcut to midpoint (GIGO).\n *\n * @param p :x,y coordinates of the point to build the half-line from\n * @param b :bounding box representing rectangle\n * @return an object with x and y members for the intersection\n * @throws if validate == true and (x,y) is inside the rectangle\n * @author TWiStErRob\n * @licence Dual CC0/WTFPL/Unlicence, whatever floats your boat\n * @see <a href=\"http://stackoverflow.com/a/31254199/253468\">source</a>\n * @see <a href=\"http://stackoverflow.com/a/18292964/253468\">based on</a>\n */\nexport function pointOnRect(p, b): Point {\n  const { x, y } = p;\n  const minX = Math.min(b.x1, b.x2);\n  const minY = Math.min(b.y1, b.y2);\n  const maxX = Math.max(b.x1, b.x2);\n  const maxY = Math.max(b.y1, b.y2);\n\n  let midX = (minX + maxX) / 2;\n  let midY = (minY + maxY) / 2;\n  // if (midX - x == 0) -> m == ±Inf -> minYx/maxYx == x (because value / ±Inf = ±0)\n  let m = (midY - y) / (midX - x);\n\n  if (x <= midX) {\n    // check \"left\" side\n    let minXy = m * (minX - x) + y;\n    if (minY <= minXy && minXy <= maxY) return { x: minX, y: minXy };\n  }\n\n  if (x >= midX) {\n    // check \"right\" side\n    let maxXy = m * (maxX - x) + y;\n    if (minY <= maxXy && maxXy <= maxY) return { x: maxX, y: maxXy };\n  }\n\n  if (y <= midY) {\n    // check \"top\" side\n    let minYx = (minY - y) / m + x;\n    if (minX <= minYx && minYx <= maxX) return { x: minYx, y: minY };\n  }\n\n  if (y >= midY) {\n    // check \"bottom\" side\n    let maxYx = (maxY - y) / m + x;\n    if (minX <= maxYx && maxYx <= maxX) return { x: maxYx, y: maxY };\n  }\n\n  // edge case when finding midpoint intersection: m = 0/0 = NaN\n  if (x === midX && y === midY) return { x: x, y: y };\n\n  // Should never happen :) If it does, please tell me!\n  throw (\n    \"Cannot find intersection for \" +\n    [x, y] +\n    \" inside rectangle \" +\n    [minX, minY] +\n    \" - \" +\n    [maxX, maxY] +\n    \".\"\n  );\n}\n","import {\n  CueData,\n  CueOptions,\n  Cues,\n  debounce2,\n  EdgeCuePosition,\n  isNullish,\n  NodeCuePosition,\n  Point,\n  Str2CuesData,\n  pointOnRect,\n  isNumber,\n  quadraticBezierCurve,\n  midPoint,\n  Str2Cues,\n  CyEvent,\n} from \"./helper\";\n\nconst UPDATE_POPPER_WAIT = 100;\nconst STYLE_EVENTS = \"style mouseover mouseout select unselect\";\nlet allCues: Str2CuesData = {};\nlet instanceId = 1;\n\nfunction fillEmptyOptions(o: CueOptions) {\n  if (!o.show) {\n    o.show = \"always\";\n  }\n  if (isNullish(o.isFixedSize)) {\n    o.isFixedSize = false;\n  }\n  if (isNullish(o.marginX)) {\n    o.marginX = 0;\n  }\n  if (isNullish(o.marginY)) {\n    o.marginY = 0;\n  }\n  if (isNullish(o.zoom2hide)) {\n    o.zoom2hide = 0;\n  }\n  if (isNullish(o.tooltip)) {\n    o.tooltip = \"\";\n  }\n  if (isNullish(o.cursor)) {\n    o.cursor = \"initial\";\n  }\n}\n\n/** create a deep copy of options since the same HTML element might used to make multiple calls\n * @param  {CueOptions} o\n * @returns CueOptions\n */\nfunction deepCopyOptions(o: CueOptions): CueOptions {\n  let o2: CueOptions = {\n    id: o.id,\n    show: o.show,\n    position: o.position,\n    marginX: o.marginX,\n    marginY: o.marginY,\n    onCueClicked: o.onCueClicked,\n    htmlElem: o.htmlElem\n      ? (o.htmlElem.cloneNode(true) as HTMLElement)\n      : o.htmlElem,\n    imgData: null,\n    zoom2hide: o.zoom2hide,\n    isFixedSize: o.isFixedSize,\n    zIndex: o.zIndex,\n    tooltip: o.tooltip,\n    cursor: o.cursor,\n  };\n  setMarginIfNeeded(o2);\n  if (o.imgData) {\n    o2.imgData = {\n      src: o.imgData.src,\n      width: o.imgData.width,\n      height: o.imgData.height,\n    };\n  }\n  return o2;\n}\n\nfunction setMarginIfNeeded(c: CueOptions) {\n  if (isNumber(c.marginX)) {\n    c.marginX = Number(c.marginX);\n  }\n  if (isNumber(c.marginY)) {\n    c.marginY = Number(c.marginY);\n  }\n}\n\nfunction getCuePositionOnEdge(edge, cuePos: EdgeCuePosition): Point | void {\n  const segmentPoints = edge.segmentPoints();\n  if (segmentPoints) {\n    return getPosition4SegmentedEdge(edge, cuePos);\n  }\n  const controlPoints = edge.controlPoints();\n  if (controlPoints) {\n    return getPosition4CurvedEdge(edge, cuePos);\n  }\n  if (cuePos == \"center\") {\n    return;\n  }\n  let b: any = {};\n  if (cuePos == \"source\") {\n    b = edge.source().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n  } else {\n    b = edge.target().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n  }\n  let otherEnd = { x: 0, y: 0 };\n  if (cuePos == \"source\") {\n    otherEnd = edge.renderedTargetEndpoint();\n  } else {\n    otherEnd = edge.renderedSourceEndpoint();\n  }\n  return pointOnRect(otherEnd, b);\n}\n\nfunction getPosition4SegmentedEdge(edge: any, pos: EdgeCuePosition): Point {\n  const segments = edge.renderedSegmentPoints();\n  if (pos == \"target\") {\n    const b = edge.target().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n    const p = segments[segments.length - 1];\n    return pointOnRect(p, b);\n  }\n  if (pos == \"source\") {\n    const b = edge.source().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n    const p = segments[0];\n    return pointOnRect(p, b);\n  }\n\n  const i1 = Math.floor(segments.length / 2);\n  if (segments.length % 2 == 0) {\n    const p1 = segments[i1];\n    const p2 = segments[i1 - 1];\n    return midPoint(p1, p2);\n  }\n  return segments[i1];\n}\n\nfunction getPosition4CurvedEdge(edge, pos: EdgeCuePosition): Point {\n  const ctrlPoints = edge.renderedControlPoints();\n  if (pos == \"target\") {\n    const b = edge.target().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n    const p = ctrlPoints[ctrlPoints.length - 1];\n    return pointOnRect(p, b);\n  }\n  if (pos == \"source\") {\n    const b = edge.source().renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n    const p = ctrlPoints[0];\n    return pointOnRect(p, b);\n  }\n  const i1 = Math.floor(ctrlPoints.length / 2);\n  if (ctrlPoints.length % 2 == 0) {\n    const p1 = ctrlPoints[i1];\n    const p2 = ctrlPoints[i1 - 1];\n    return midPoint(p1, p2);\n  }\n  let prev = edge.renderedSourceEndpoint();\n  let next = edge.renderedTargetEndpoint();\n  if (i1 > 0) {\n    prev = ctrlPoints[i1 - 1];\n  }\n  if (i1 < ctrlPoints.length - 1) {\n    next = ctrlPoints[i1 + 1];\n  }\n  let weight = 0.5;\n  if (ctrlPoints.length == 1) {\n    weight = Number(edge.css(\"control-point-weights\"));\n    return quadraticBezierCurve(prev, ctrlPoints[i1], next, weight);\n  }\n  return quadraticBezierCurve(\n    midPoint(prev, ctrlPoints[i1]),\n    ctrlPoints[i1],\n    midPoint(ctrlPoints[i1], next),\n    weight\n  );\n}\n\nfunction getMargins(c: CueOptions, graphElem): Point {\n  const r = { x: 0, y: 0 };\n  if (graphElem.isNode()) {\n    const bb = graphElem.renderedBoundingBox({\n      includeLabels: false,\n      includeOverlays: false,\n    });\n    if (typeof c.marginX == \"number\") {\n      r.x = c.marginX;\n    } else if (typeof c.marginX == \"string\") {\n      const marginX = (Number(c.marginX.substring(1)) / 100) * bb.w;\n      r.x = marginX;\n    }\n    if (typeof c.marginY == \"number\") {\n      r.y = c.marginY;\n    } else if (typeof c.marginY == \"string\") {\n      const marginY = (Number(c.marginY.substring(1)) / 100) * bb.h;\n      r.y = marginY;\n    }\n  } else {\n    const tgt = graphElem.renderedTargetEndpoint();\n    const src = graphElem.renderedSourceEndpoint();\n    const deltaY = tgt.y - src.y;\n    const deltaX = tgt.x - src.x;\n    const angle = Math.atan(deltaY / deltaX);\n    const edgeLength = Math.sqrt(deltaY * deltaY + deltaX * deltaX);\n    let sin = Math.sin(angle);\n    let cos = Math.cos(angle);\n    let direction = deltaX > 0 ? 1 : -1;\n    if (typeof c.marginX == \"number\") {\n      r.y += c.marginX * sin;\n      r.x += c.marginX * cos;\n    } else if (typeof c.marginX == \"string\") {\n      const delta = edgeLength * (Number(c.marginX.substring(1)) / 100);\n      r.y += delta * sin;\n      r.x += delta * cos;\n    }\n    const wid = graphElem.renderedWidth();\n    if (typeof c.marginY == \"number\") {\n      r.x += c.marginY * sin;\n      r.y += c.marginY * cos;\n    } else if (typeof c.marginY == \"string\") {\n      const delta = wid * (Number(c.marginY.substring(1)) / 100);\n      r.x += delta * sin;\n      r.y += delta * cos;\n    }\n    r.x *= direction;\n    r.y *= direction;\n  }\n  return r;\n}\n\nfunction checkCuePosition(graphElem, pos: NodeCuePosition | EdgeCuePosition) {\n  const isNode = graphElem.isNode();\n\n  if (isNode && (pos == \"target\" || pos == \"source\")) {\n    throw `'${pos}' is invalid cue position for a node`;\n  }\n  if (!isNode && pos != \"target\" && pos != \"source\" && pos != \"center\") {\n    throw `'${pos}' is invalid cue position for an edge`;\n  }\n}\n\nfunction setCueCoords(cueData: CueData, cyZoom: number, cueId?) {\n  // let the nodes resize first\n  let ratio = 1;\n  let z1 = (cyZoom / 2) * ratio;\n  const bb = cueData.graphElem.renderedBoundingBox({\n    includeLabels: false,\n    includeOverlays: false,\n  });\n  const isEdge = cueData.graphElem.isEdge();\n\n  for (let id in cueData.cues) {\n    if (cueId) {\n      id = cueId;\n    }\n    const cue = cueData.cues[id];\n    const w = cue.htmlElem.clientWidth;\n    const h = cue.htmlElem.clientHeight;\n    const pos = cue.position;\n    let y = (bb.y1 + bb.y2) / 2 - h / 2;\n    let x = (bb.x2 + bb.x1) / 2 - w / 2;\n    if (pos == \"bottom\" || pos == \"bottom-left\" || pos == \"bottom-right\") {\n      y = bb.y2 - h / 2;\n    } else if (pos == \"top\" || pos == \"top-left\" || pos == \"top-right\") {\n      y = bb.y1 - h / 2;\n    }\n    if (pos == \"right\" || pos == \"top-right\" || pos == \"bottom-right\") {\n      x = bb.x2 - w / 2;\n    } else if (pos == \"left\" || pos == \"top-left\" || pos == \"bottom-left\") {\n      x = bb.x1 - w / 2;\n    }\n    if (isEdge) {\n      const p = getCuePositionOnEdge(cueData.graphElem, pos as EdgeCuePosition);\n      if (p) {\n        x = p.x - w / 2;\n        y = p.y - h / 2;\n      }\n    }\n    const margins = getMargins(cue, cueData.graphElem);\n    x += margins.x;\n    y += margins.y;\n    let scale = `scale(${z1})`;\n    if (cue.isFixedSize) {\n      scale = \"\";\n    }\n    cue.htmlElem.style.transform = `translate(${x}px, ${y}px) ${scale}`;\n    if (cueId) {\n      return;\n    }\n  }\n}\n\nfunction switchCueVisibility(cues: Cues, prevOpacities: any, isHide: boolean) {\n  for (let id in cues) {\n    if (isHide) {\n      prevOpacities[id] = cues[id].htmlElem.style.visibility;\n      cues[id].htmlElem.style.visibility = \"hidden\";\n    } else {\n      cues[id].htmlElem.style.visibility = prevOpacities[id];\n    }\n  }\n}\n\nfunction setCueCoordsOfChildren(e, zoom: number) {\n  const elems = e.children();\n  for (let i = 0; i < elems.length; i++) {\n    const child = elems[i];\n    if (child.isParent()) {\n      setCueCoordsOfChildren(child, zoom);\n    } else {\n      const d = allCues[instanceId][child.id()];\n      if (d) {\n        setCueCoords(d, zoom);\n      }\n    }\n  }\n}\n\nfunction hideAllHoverCues() {\n  for (let id in allCues[instanceId]) {\n    for (let cueId in allCues[instanceId][id].cues) {\n      if (allCues[instanceId][id].cues[cueId].show == \"hover\") {\n        allCues[instanceId][id].cues[cueId].htmlElem.style.visibility =\n          \"hidden\";\n      }\n    }\n  }\n}\n\nfunction setCueVisibility(event: CyEvent, cueId?) {\n  const e = event.target;\n  const targetId = e.id();\n  if (!allCues[instanceId] || !allCues[instanceId][targetId]) {\n    return;\n  }\n  const cues: Cues = allCues[instanceId][targetId].cues;\n  const eventType = event.type;\n  const isElemSelected = e.selected();\n  if (!e.visible()) {\n    for (let id in cues) {\n      cues[id].htmlElem.style.visibility = \"hidden\";\n    }\n  } else {\n    const zoom = e.cy().zoom();\n    if (eventType == \"mouseover\") {\n      hideAllHoverCues();\n    }\n    for (let id in cues) {\n      if (cueId) {\n        id = cueId;\n      }\n      const showType = cues[id].show;\n      if (zoom <= cues[id].zoom2hide || showType == \"never\") {\n        cues[id].htmlElem.style.visibility = \"hidden\";\n      } else if (showType == \"always\") {\n        cues[id].htmlElem.style.visibility = \"visible\";\n      } else if (showType == \"hover\" && eventType == \"mouseover\") {\n        cues[id].htmlElem.style.visibility = \"visible\";\n      } else if (showType == \"over\") {\n        if (eventType == \"mouseout\") {\n          cues[id].htmlElem.style.visibility = \"hidden\";\n        } else if (eventType == \"mouseover\") {\n          cues[id].htmlElem.style.visibility = \"visible\";\n        }\n      } else if (showType == \"select\") {\n        if (eventType == \"select\" || isElemSelected) {\n          cues[id].htmlElem.style.visibility = \"visible\";\n        } else if (eventType == \"unselect\") {\n          cues[id].htmlElem.style.visibility = \"hidden\";\n        }\n      }\n      if (cueId) {\n        return;\n      }\n    }\n  }\n}\n\nfunction destroyCuesOfGraphElem(e: { target: any }) {\n  const id = e.target.id();\n  // remove cues from DOM\n  if (!allCues[instanceId][id]) {\n    return;\n  }\n  const cues = allCues[instanceId][id].cues;\n  for (let cueId in cues) {\n    cues[cueId].htmlElem.remove();\n  }\n  // unbind previously bound functions\n  if (allCues[instanceId][id].positionFn) {\n    if (allCues[instanceId][id].graphElem.isEdge()) {\n      allCues[instanceId][id].graphElem\n        .source()\n        .off(\"position\", allCues[instanceId][id].positionFn);\n      allCues[instanceId][id].graphElem\n        .target()\n        .off(\"position\", allCues[instanceId][id].positionFn);\n    } else {\n      allCues[instanceId][id].graphElem.off(\n        \"position\",\n        allCues[instanceId][id].positionFn\n      );\n    }\n    allCues[instanceId][id].graphElem.off(\n      STYLE_EVENTS,\n      allCues[instanceId][id].styleFn\n    );\n    e.target.cy().off(\"pan zoom resize\", allCues[instanceId][id].positionFn);\n  }\n  delete allCues[instanceId][id];\n}\n\nfunction onElemMove(e, cueOpacities, isSwapOpacity: boolean) {\n  const zoom = e.cy().zoom();\n  const id = e.id();\n  setCueCoords(allCues[instanceId][id], zoom);\n  setCueCoordsOfChildren(e, zoom);\n  if (isSwapOpacity) {\n    switchCueVisibility(allCues[instanceId][id].cues, cueOpacities, false);\n  }\n}\n\nfunction addEventListeners4Elem(e, cy, positionHandlerFn, styleHandlerFn) {\n  if (e.isEdge()) {\n    e.source().on(\"position\", positionHandlerFn);\n    e.target().on(\"position\", positionHandlerFn);\n  } else {\n    e.on(\"position\", positionHandlerFn);\n  }\n  e.on(STYLE_EVENTS, styleHandlerFn);\n  e.on(\"remove\", destroyCuesOfGraphElem);\n  cy.on(\"pan zoom resize\", positionHandlerFn);\n}\n\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nfunction prepareHTMLElement(container, htmlElem, opts: CueOptions, e) {\n  container.appendChild(htmlElem);\n  htmlElem.style.position = \"absolute\";\n  htmlElem.style.top = \"0px\";\n  htmlElem.style.left = \"0px\";\n  htmlElem.style.zIndex = opts.zIndex;\n  htmlElem.title = opts.tooltip;\n  htmlElem.style.cursor = opts.cursor;\n  if (opts.show != \"always\") {\n    htmlElem.style.visibility = \"hidden\";\n  }\n  htmlElem.addEventListener(\"click\", () => {\n    if (opts.onCueClicked) {\n      opts.onCueClicked(e, opts.id);\n    }\n  });\n\n  htmlElem.addEventListener(\"mousedown\", stopEvent);\n  htmlElem.addEventListener(\"mouseup\", stopEvent);\n  htmlElem.addEventListener(\"touchstart\", stopEvent);\n  htmlElem.addEventListener(\"touchend\", stopEvent);\n}\n\nfunction updateCueOptions(opts: CueOptions, o2: CueOptions) {\n  for (let k in o2) {\n    if (k == \"htmlElem\" || k == \"imgData\") {\n      throw `'htmlElem' and 'imgData' cannot be updated! Please try removing whole cue and then adding it again`;\n    }\n    opts[k] = o2[k];\n    if (k == \"tooltip\") {\n      opts.htmlElem.title = o2[k];\n    }\n    if (k == \"zIndex\") {\n      opts.htmlElem.style.zIndex = o2[k] + \"\";\n    }\n    if (k == \"cursor\") {\n      opts.htmlElem.style.cursor = o2[k] + \"\";\n    }\n  }\n}\n\nfunction isCueIdExists(e, opts: CueOptions) {\n  if (!isNullish(opts.id) && opts.id != \"\") {\n    const id = e.id();\n    if (allCues[instanceId][id] && allCues[instanceId][id].cues[opts.id]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction showHideCues(eles, cueId: string | number, isShow: boolean) {\n  let vis = \"hidden\";\n  if (isShow) {\n    vis = \"visible\";\n  }\n  for (let i = 0; i < eles.length; i++) {\n    const e = eles[i];\n    const eId = e.id();\n    if (!allCues[instanceId][eId]) {\n      continue;\n    }\n    if (cueId !== undefined && cueId != null) {\n      const cue = allCues[instanceId][eId].cues[cueId];\n      if (cue) {\n        cue.htmlElem.style.visibility = vis;\n      } else {\n        console.error(\"Can not found a cue with id: \", cueId);\n      }\n    } else {\n      const cues = allCues[instanceId][eId].cues;\n      for (let id in cues) {\n        cues[id].htmlElem.style.visibility = vis;\n      }\n    }\n  }\n}\n\nfunction createInstaceIfNeeded() {\n  if (!allCues[instanceId]) {\n    allCues[instanceId] = {};\n  }\n}\n\n/** creates new cue(s) to the calling element(s).\n * Returns an array of booleans. If a cue is added successfully to an element it returns true, otherwise false.\n * @param  {CueOptions} cueOptions\n * @returns boolean\n */\nexport function addCue(cueOptions: CueOptions): boolean[] {\n  createInstaceIfNeeded();\n  const eles = this;\n  const cy = this.cy();\n  const container = cy.container();\n  fillEmptyOptions(cueOptions);\n  const results: boolean[] = [];\n  for (let i = 0; i < eles.length; i++) {\n    const opts = deepCopyOptions(cueOptions);\n    const e = eles[i];\n    const id = e.id() + \"\";\n\n    checkCuePosition(e, opts.position);\n    if (isCueIdExists(e, opts)) {\n      console.error(`A cue with id '${opts.id}' already exists for '${id}'`);\n      results.push(false);\n      break;\n    }\n    results.push(true);\n    let htmlElem;\n    if (opts.imgData) {\n      htmlElem = document.createElement(\"img\");\n      htmlElem.width = opts.imgData?.width;\n      htmlElem.height = opts.imgData?.height;\n      htmlElem.src = opts.imgData?.src;\n      opts.htmlElem = htmlElem;\n    } else {\n      htmlElem = opts.htmlElem;\n    }\n    prepareHTMLElement(container, htmlElem, opts, e);\n\n    let cueOpacities = {};\n    let isOnMove = false;\n    const positionHandlerFn = debounce2(\n      () => {\n        isOnMove = false;\n        // element might be removed before addCue is finished\n        if (allCues[instanceId] && allCues[instanceId][id]) {\n          onElemMove(e, cueOpacities, true);\n          setCueVisibility({ target: e, type: \"position\" });\n        }\n      },\n      UPDATE_POPPER_WAIT,\n      () => {\n        isOnMove = true;\n        // element might be removed before addCue is finished\n        if (allCues[instanceId] && allCues[instanceId][id]) {\n          switchCueVisibility(allCues[instanceId][id].cues, cueOpacities, true);\n        }\n      }\n    );\n\n    const styleHandlerFn = (event, cueId = undefined) => {\n      if (!isOnMove) {\n        setCueVisibility(event, cueId);\n      }\n    };\n\n    const existingCuesData = allCues[instanceId][id];\n    if (existingCuesData) {\n      let cueId = opts.id;\n      if (isNullish(cueId) || cueId == \"\") {\n        cueId = 0;\n        while (existingCuesData.cues[cueId]) {\n          cueId++;\n        }\n      }\n      existingCuesData.cues[cueId] = opts;\n    } else {\n      addEventListeners4Elem(e, cy, positionHandlerFn, styleHandlerFn);\n      let cueId = opts.id;\n      if (isNullish(cueId) || cueId == \"\") {\n        cueId = 0;\n      }\n      let cues: Cues = {};\n      cues[cueId] = opts;\n\n      allCues[instanceId][id] = {\n        cues: cues,\n        graphElem: e,\n        positionFn: positionHandlerFn,\n        styleFn: styleHandlerFn,\n      };\n    }\n    onElemMove(e, cueOpacities, false);\n  }\n  return results;\n}\n\n/** Deletes cue(s) from the calling element(s).\n *  If `cueId` is `null` or `undefined`, deletes all the cue(s).\n * @param  {string|number} cueId\n */\nexport function removeCue(cueId: string | number) {\n  createInstaceIfNeeded();\n  const eles = this;\n  for (let i = 0; i < eles.length; i++) {\n    const e = eles[i];\n    const eId = e.id();\n    if (!allCues[instanceId][eId]) {\n      break;\n    }\n    if (!isNullish(cueId)) {\n      const cue = allCues[instanceId][eId].cues[cueId];\n      if (cue) {\n        cue.htmlElem.remove();\n        delete allCues[instanceId][eId].cues[cueId];\n        if (Object.keys(allCues[instanceId][eId].cues).length < 1) {\n          destroyCuesOfGraphElem({ target: e });\n        }\n      } else {\n        console.warn(`Can not found a cue with id '${cueId}'`);\n      }\n    } else {\n      destroyCuesOfGraphElem({ target: e });\n    }\n  }\n}\n\n/** Updates given properties of cue(s).\n *  If a cue with the id not found, updates all cues of the element.\n * @param  {CueOptions} cueOptions\n */\nexport function updateCue(cueOptions: CueOptions) {\n  createInstaceIfNeeded();\n  const eles = this;\n  const cy = this.cy();\n  const cueId = cueOptions.id;\n  setMarginIfNeeded(cueOptions);\n  for (let i = 0; i < eles.length; i++) {\n    const opts = cueOptions;\n    const e = eles[i];\n    const id = e.id();\n    if (!allCues[instanceId][id]) {\n      continue;\n    }\n    const cue = allCues[instanceId][id].cues[cueId];\n    checkCuePosition(e, opts.position);\n\n    if (cue) {\n      updateCueOptions(allCues[instanceId][id].cues[cueId], cueOptions);\n    } else {\n      const cues = allCues[instanceId][id].cues;\n      for (let k in cues) {\n        updateCueOptions(allCues[instanceId][id].cues[k], cueOptions);\n      }\n    }\n    setCueCoords(allCues[instanceId][id], cy.zoom(), cueId);\n    setCueVisibility({ target: e, type: \"style\" }, cueId);\n  }\n}\n\n/** Gets cue data of cue(s).\n *  @returns Str2Cues\n */\nexport function getCueData(): Str2Cues {\n  createInstaceIfNeeded();\n  const eles = this;\n  let r: Str2Cues = {};\n  for (let i = 0; i < eles.length; i++) {\n    const id = eles[i].id();\n    if (allCues[instanceId] && allCues[instanceId][id]) {\n      r[id] = allCues[instanceId][id].cues;\n    }\n  }\n\n  return r;\n}\n\n/** Manually hides cue(s).\n *  If a cue with the id `cueId` is not found, hides all the cues of the element.\n * @param  {string|number} cueId\n */\nexport function hideCue(cueId: string | number) {\n  createInstaceIfNeeded();\n  const eles = this;\n  showHideCues(eles, cueId, false);\n}\n\n/** Manually shows cue(s).\n * @param  {string|number} cueId\n */\nexport function showCue(cueId: string | number) {\n  createInstaceIfNeeded();\n  const eles = this;\n  showHideCues(eles, cueId, true);\n}\n\n/** If a cue with the id `cueId` is not found, shows all the cues of the element.\n *  Sets the active cue instance id.\n * @param  {number} id\n */\nexport function setActiveInstance(id: number) {\n  instanceId = id;\n}\n\n/** Gets the active cue instace id.\n */\nexport function getActiveInstanceId() {\n  return instanceId;\n}\n","// update the below line according to your own names\nimport {\n  addCue,\n  removeCue,\n  updateCue,\n  getCueData,\n  showCue,\n  hideCue,\n  setActiveInstance,\n  getActiveInstanceId,\n} from \"./cytoscape-visual-cues\";\n\nexport default function register(cytoscape) {\n  if (!cytoscape) {\n    return;\n  } // can't register if cytoscape unspecified\n\n  // update the below line according to your own names\n  cytoscape(\"collection\", \"addCue\", addCue);\n  cytoscape(\"collection\", \"removeCue\", removeCue);\n  cytoscape(\"collection\", \"updateCue\", updateCue);\n  cytoscape(\"collection\", \"getCueData\", getCueData);\n  cytoscape(\"collection\", \"showCue\", showCue);\n  cytoscape(\"collection\", \"hideCue\", hideCue);\n  cytoscape(\"core\", \"setActiveCueInstance\", setActiveInstance);\n  cytoscape(\"core\", \"getActiveCueInstanceId\", getActiveInstanceId);\n}\n\nif (typeof window[\"cytoscape\"] !== \"undefined\") {\n  register(window[\"cytoscape\"]);\n}\n"],"names":[],"mappings":"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"}